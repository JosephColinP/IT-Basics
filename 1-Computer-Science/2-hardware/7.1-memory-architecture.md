# Unidad de memoria



## Computer Data storage


Is a technology consisting of computer components and recording media that are used to retain digital data. It is a core function and fundamental component of computers

The CPU  is what manipulates data by performing computations. In practice, almost all computers use a storage hierarchy,  which puts ***fast but expensive*** and ***small storage*** options close to the CPU and ***slower but less expensive*** and ***larger*** options further away. Generally the fast volatile technologies (which lose data when off power) are referred to as **"memory",** while slower persistent technologies are referred to as **"storage"**.



------



## Memory


Memory is a device or system that is used to store information for immediate use in a computer.  Computer memory operates at a high speed compared to storage that is slower but offers higher capacities. If needed, contents of the computer memory can be transferred to storage; a common way of doing this is through a memory management technique called **virtual memory**.

Las memorias están hechas por un conjunto de celdas de almacenamiento y circuitos que sirven para transportar la información hacia adentro o hacia afuera de la memoria. La memoria guarda esta información en código binario, es decir, en bits.



------



## Memory Unit

Memory unit is the amount of data that can be stored in the storage unit. This storage capacity is expressed in terms of ***Bytes*** ( 1 Byte = 8 bits). 

La mayor parte de las memorias de las computadoras utilizan un multiplo de 8bits, que esto es 1byte. La capacidad de las memorias en las computadoras por lo general se define como la cantidad total de bytes que pueden almacenarse.

### Storage Units

   → Bit (Binary Digit): A binary digit is a logical 0 an 1 representing a passive or an active state of a component in a electric circuit.
   → Nibble: A group of 4 bits
   → Byte: A group of 8 bits. A byte is the smallest unit, wich can represent a data item or a character.
   → Word:  A computer word, like a byte, is a group of fixed number of bits processed as a unit, which varies from computer to computer but is fixed for each computer. 

**Larger storage units**
   → Kilobyte (KB) = 1,024  bytes
   → Megabyte (MB)= 1,024 KB
   → Gigabyte = (GB)1,024 MB
   → Terabyte = (TB) 1,024 GB


La estructura interna de una unidad de memoria está especificada por el números de palabras que contiene y la cantidad de bits en cada palabra. Unas líneas especiales de entrada, llamadas líneas de direccionamiento, seleccionan una palabra particular. A cada palabra se le asigna un número de identificación llamado una direccion que comienza en 0 y continua hasta 2k-1 donde k es la cantidad de líneas de dirección. Se selecciona una palabra específica en la memoria, al aplicar la dirección binaria de k bits a las lineas de dirección.



------



## Método de acceso

### Acceso Aleatorio (RAM)

La memoria se organiza como un vector, en el que cada elemento individual de memoria tiene una dirección única. Se accede a una posición determinada proporcionando la dirección. El tiempo de acceso es independiente de la posición a la que se ha accedido y es independiente de la última posición a la que se ha accedido.

### Acceso Secuencial (SAM)

Se accede desde la última posición a la que se ha accedido, leyendo en orden todas las posiciones de memoria hasta llegar a la posición deseada. El tiempo de acceso depende de la posición a la que se quiere acceder y de la posición a la que se ha accedido anteriormente.

### Acceso Directo (DAM)

La memoria se organiza en bloques y cada bloque de memoria tiene una dirección única, se accede directamente al principio de un bloque y dentro de este se hace un acceso secuencial hasta llegar a la posición de memoria deseada. El tiempo de acceso depende de la posición a la que se quiere acceder y de la última posición a la que se ha accedido.

### Asociativas (CAM)

Se trata de un tipo de memoria de acceso aleatorio donde el acceso se hace basándose en el contenido y no en la dirección. Se especifica el valor que se quiere localizar y se compara este valor con una parte del contenido de cada posición de memoria; la comparación se lleva a cabo simultáneamente con todas las posiciones de la memoria.



------



## Soporte físico

El soporte de almacenamiento de datos o medios de almacenamientso es el materia físico donde se almacenan los datos que pueden ser procesadors por una computadora. Estos materiales pueden ser:

### Semiconductor

Es una memoria que utiliza elementos semiconductores, transistores, en su construcción; incluye: registros, memoria caché, memoria principal, memorias de solo lectura, memoria flash.

### Magnéticas

Utiliza superficies imantadas para guardar la información; dentro de esta categoría se incluyen básicamente discos y cintas magnéticas.

### Ópticas

Utiliza elementos de almacenamiento que pueden ser leídos y escritos mediante luz láser; se incluyen dispositivos de CD, DVD, Blu-ray.



------



## Alterabilidad

Hace referencia a la alteración de datos dentro de una memoría. Existen tres tipos de memoria; Volátiles, No Volátiles y semi volátiles.

### Volátiles

Volatile memory is computer memory that requires power to maintain the stored information. Most modern semiconductor volatile memory is either static RAM (SRAM) or dynamic RAM (DRAM)

### No volátiles

Non-volatile memory is computer memory that can retain the stored information even when not powered. Examples of non-volatile memory include read-only memory (ROM), flash memory, most types of magnetic computer storage devices and optical discs.

### Semi Volátiles

A third category of memory is "semi-volatile". The term is used to describe a memory which has some limited non-volatile duration after power is removed, but then data is ultimately lost. A typical goal when using a semi-volatile memory is to provide high performance/durability/etc. associated with volatile memories, while providing some benefits of a true non-volatile memory.



------



## Tiempo de acceso y Velocidad

En las memorias RAM, el tiempo de acceso (o Latencia) es el tiempo que transcurre desde que una ***direccion de memoria*** es visible para los ***circuitos de la memoria*** hasta que el dato está almacenado (escritura) o está disponible para ser utilizado (lectura). 

En memorias de acceso no aleatorio (discos) es el tiempo necesario para que el mecanismo de lectura o escritura se situe en la posición necesaria para empezar la lectura o escritura.

### Ciclo de memoria

se considera el tiempo de acceso más el tiempo necesario antes de que se pueda empezar un segundo acceso a la memoria.

### Velocidad de transferencia

Es la velocidad a la que se puede leer o escribir un dato de memoria.



------



## Jerarquias de memorias

En una jerarquía de memorias se utilizan varios tipos de memoria con distintas características de capacidad, velocidad y coste, que dividiremos en niveles diferentes: memoria del procesador, memoria interna y memoria externa.

### Registros

El registro es el espacio de memoria que se encuentra dentro del procesador, integrado dentro del mismo chip de este. Se utilizan celdas de memoria de tipo estático, SRAM, para su implementación

Es el espacio de memoria en el cual el procesador puede acceder más rápidamente a los datos. Este espacio de memoria es accesible al programador de lenguaje de ensamblador y, si se gestiona bien, permite minimizar el número de accesos a la memoria interna, que son bastante más lentos.

### Memoria Interna

La memoria interna en un computador moderno está formada típicamente por dos niveles fundamentales: ***memoria caché*** y ***memoria principal.*** En los computadores actuales es frecuente encontrar la memoria caché también dividida en niveles.

#### Memoria Caché

Las memorias caché son memorias de capacidad reducida, pero más rápidas que la memoria principal, que utilizan un método de acceso asociativo. Se pueden encontrar dentro del chip del procesador o cerca de él y están diseñadas para reducir el tiempo de acceso a la memoria. En la memoria caché se almacenan los datos que se prevé que se utilizarán más habitualmente, de manera que sea posible reducir el número de accesos que debe hacer el procesador a la memoria principal.

Los procesadores modernos utilizan diferentes niveles de memoria caché, lo que se conoce como memoria caché de primer nivel, segundo nivel, etc. Actualmente es habitual disponer de hasta tres niveles de memoria caché, referidos como L1, L2 y L3

#### Memoria Principal

En la memoria principal se almacenan los programas que se deben ejecutar y sus datos, es la memoria visible para el programador mediante su espacio de direcciones. 

La memoria principal se implementa utilizando diferentes chips conectados a la placa principal del computador y tiene una capacidad mucho más elevada que la memoria caché (del orden de Gbytes o de Tbytes en supercomputadores). 

 Utiliza tecnología DRAM (Dynamic RAM), que es más lenta que la SRAM, pero con una capacidad de integración mucho más elevada, hecho que permite obtener más capacidad en menos espacio.

### Memoria Externa

La memoria externa corresponde a dispositivos de almacenamiento secundario: discos magnéticos, cintas magnéticas, discos ópticos, dispositivos de memoria flash, etc., y también se pueden considerar sistemas de almacenamiento en red. 

Estos dispositivos son gestionados por el sistema de ficheros del sistema operativo mediante el sistema de entrada/salida. 

Los dispositivos que forman la memoria externa se conectan al computador con algún tipo de bus (serie o paralelo). Estos dispositivos se pueden encontrar físicamente dentro del computador conectados por buses internos del computador (IDE, SATA, SCSI, etc.) o pueden estar fuera del computador conectados por buses externos (USB, Firewire, eSATA, Infiniband, etc.).

### Memoria Virtual

Decimos que un computador utiliza memoria virtual cuando las direcciones de memoria de los programas se refieren a un espacio de memoria superior al espacio de memoria físico, espacio de memoria principal. 

La memoria virtual libera al programador de las restricciones de la memoria principal. En estos computadores diferenciamos entre el mapa de ***direcciones lógicas o virtuales*** (las direcciones que utilizan los programas) y el mapa de ***direcciones físicas o reales*** (las direcciones de la memoria principal). El espacio de memoria virtual utiliza como soporte un dispositivo de almacenamiento externo (habitualmente un disco magnético), mientras que el espacio de memoria físico se corresponde con la memoria principal del computador. 

La utilización de la memoria virtual implica resolver dos problemas: la traducción de direcciones lógicas a direcciones físicas y la asignación de espacio de memoria físico a los programas que se deben ejecutar. La gestión de la memoria virtual la efectúa el sistema operativo.



------



## Memoria Interna

Todos los tipos de memoria interna se implementan utilizando tecnología de semiconductores y tienen el transistor como elemento básico de construcción.

El elemento básico en toda memoria es la celda. Una celda permite almacenar un bit, un valor 0 o 1 definido por una diferencia de potencial eléctrico. La manera de construir una celda de memoria varía según la tecnología utilizada.

 La memoria interna es una memoria de acceso aleatorio; se puede acceder a cualquier palabra de memoria especificando una dirección de memoria. 

 Una manera de clasificar la memoria interna según la perdurabilidad es la siguiente:

### Memoria Volátil

   → **SRAM:** La memoria estática de acceso aleatorio (SRAM) implementa cada celda de memoria utilizando un flip-flop básico para almacenar un bit de información, y mantiene la información mientras el circuito de memoria recibe alimentación eléctrica.

   → **DRAM:** La memoria dinámica implementa cada celda de memoria utilizando la carga de un condensador. A diferencia de los flip-flops, los condensadores con el tiempo pierden la carga almacenada y necesitan un ***circuito de refresco*** para ***mantener la carga*** y mantener, por lo tanto, ***el valor de cada bit almacenado***. Eso provoca que tenga un tiempo de acceso mayor que la SRAM.



### Memoria No-Volátil 

   → **ROM (read only memory)**: Tal como indica su nombre, se trata de memorias de solo lectura que no permiten operaciones de escritura y, por lo tanto, la información que contienen no se puede borrar ni modificar.

   → **PROM (programmable read only memory):**  A diferencia de las anteriores, la grabación no forma parte del proceso de fabricación de los chips de memoria, sino que se efectúa posteriormente con un proceso eléctrico utilizando un hardware especializado para la grabación de memorias de este tipo. 

​	Como el proceso de programación no forma parte del proceso de fabricación, el usuario final de este tipo de memorias puede grabar el contenido según sus necesidades. Tal como sucede con las memorias ROM, el proceso de grabación o programación solo se puede realizar una vez.

   → **Memoria reprogramable mayoritariamente de lectura**
         • **EPROM (erasable programmable read only memory):**  Se trata de memorias en las que habitualmente se hacen operaciones de lectura, pero cuyo contenido puede ser borrado y grabado de nuevo. El contenido puede ser borrado a traves de luz ultravioleta y re escritro a traves de un hardware específico.
         • **EEPROM (electrically erasable programmable read only memory)** Tiene un funcionamiento parecido a la EPROM, permite borrar el contenido y grabar información nueva; sin embargo, a diferencia de las memorias EPROM, todas las operaciones son realizadas eléctricamente.
         • **Memoria Flash:** a memoria flash es un tipo de memoria parecida a las memorias EEPROM, en las que el borrado es eléctrico, con la ventaja de que el proceso de borrar y grabar es muy rápido. La velocidad de lectura es superior a la velocidad de escritura, pero las dos son del mismo orden de magnitud.



------



## Acceso a los datos y temporizador



### DMA (Direct Memory Access).

DMA es un acceso a una ubicación RAM, en el ordenador, al que una “dirección de inicio RAM” y una “dirección de Fin” hacen referencia. Esto permite que un periferico utilice canales especiales que le den acceso directo a la memoria, sin involucrar al microprocesador. Esto permite que el microprocesador se libere  de la necesidad de hacer este trabajo.

### Canales DMA

\- DMA0 Libre
\- DMA1 Tarjeta de sonido/libre
\- DMA2 Controlador de disquetes
\- DMA3 Puerto paralelo (puerto de la impresora)
\- DMA4 COntrolador del acceso directo a la memoria (redirigido a DMA0
\- DMA5 (tarjeta de sonido) / libre
\- DMA6 (SCSI)/libre
\- DMA7 - Disponible



------



## Temporización

La temproización es la forma en la que se coordinan los eventos en el bus. Los buses utilizan temporización síncrona o asíncrona.

### Temporización síncrona

La presencia de un evento en el bus está determinada por un reloj. El bus tiene una línea de reloj en la que se transmite una secuencia de intervalos regulares con duración de uno a cero. 

### Temporización asíncrona

En presencia de un evento en el bus es consecuencia de que se produzca un evento previo. 

La finalidad es retardar una señal desde un nodo del cicuito hasta otro punto.

El temporizador es un circuito digital, dispone de dos salidas, una salida es la inversa de la otra, el temporizador tiene dos estados uno estable y otro inestable. Permanece en su estado estable, hasta que se activa con un pulso de entrada. Una vez que se activa cambia a su estado inestable y ahí permanece por un periodo fijo de tiempo tw, este periodo lo determina una constante de tiempo RC externa que transcurre el tiempo tw, las salidas dos salidas del temporizador regresan a su estado estable, hasta que se activan otra vez.

Se tienen tres temporizadores básicos que se denominan:
Temporizacion a la activacion.
Temporizacion a la desactivacion.
Combinación de los dos últimos.

### Temporzacion a la activacion y desactivación simultaneas

Se dispone de dos tipos de comportamiento en que se manifiestan las salidas de los temporizadores “redisparables” y “no redisparables” y su entrada responde a dos tipos de disparo, “activación” y “desactivacion”.



------



## Reloj del sistema

El reloj es la parte del CPU que proporciona una sucesión de impulsos eléctricos (Ciclos) a intervalos constantes, cada sucesión maraca el instante que debe comenzar un paso de instrucción.

Este reloj es accionado por un cristal de cuarzo que al momento de aplicarle electricidad las moléculas en el cristal vibran muchas veces cada segundo. Las vibraciones son usadas por la computadora para medir sus operaciones de procesamiento.

La frecuencia del reloj se mide por ciclos por segundo llamado hertzios, Un ciclo de reloj es el tiempo que le lleva un transistor en apagarse y encenderse. Como la frecuencia del reloj es de varios millones de pulsos por segundo se expresa en Megaherzios.

**Reset del sistema**
Se conoce como reset a la puesta en condiciones iniciales de un sistema. Este puede ser mecánico, electrónico o de otro tipo. Normalmente se realiza al conectar el mismo aunque habitualmente existe un mecanismo normalmente un pulsador que sirve para realzar la puesta en condiciones iniciales manualmente.

**Estados de espera**
 El estado de espera es la extensión de la longitud del ciclo del bus para igualar la velocidad de una tarjeta más lenta, es decir, es la sincronización entre el Bus del sistema y las tarjetas.



------



## Secuencias de Eventos


Una operacion de I/O por DMA se establece ejecutando una corta rutina de inicialización. consiste en varias instrucciones de salida para asignar un valor inciales a:
**AR:** Dirección de memoria de la región de datos E/S IOBUF (buffer de entrada/salida)
**WC:** Número N de palabras de datos a transferir.

Una vez inicializado, el DMA procede a transferir datos entre el IOBUF y el dispostivido de I/O. Despues de cada transferencia de decrementa el valor de WC y se incrementa el de AR.

La operación termina cuando WC=0, entonces el DMAC (o el periférico) indica la conclusión de la operación enviando al procesador una petición de interrupción.



## Problemas de coherencia de caché


La DMA puede llevar a problemas de coherencia de caché. Imagine una CPU equipada con una memoria caché y una memoria externa que s pueda acceder directamente a los dispostivos utilizando DMA. Si la caché no se vacía en la memoria antes de que otro dispositivo intente acceder, el dispostivo recibirá un valor caducado.

Este problema puede ser abordado de la siguiente manera
Los sistemas de caché coherente implementan un método en el hardware externo mediante el cual se escribe una señal en el controlador de caché. La cual realiza una invalidación de la cache para escritura de DMA o caché de descarga para lectura del DMA.
Sistemas no-cohetentes dejan este software donde el sistema operativo debe asegurarse que las lineas de caché se vacíen antes de que una transferencia de salida de DMA sea iniciada y anulada antes de que una parte de la memoria sea afectada por una transferencia entrante de DMA que se haya requerido.



------



## Tipos de memoria



**Memoria de acceso aleatorio**
Se utiliza como memoria de trabajo para el sistema operativo, los programas y la mayoria del software. Es allí donde se cargan todas las instrucciones que ejecutan el procesador y otras unidades de cómputo. se pueden leer o escribir con un tiempo de espera igual para cualquier posicion no siendo necesario seguir un orden para acceder a la información.

Durante el encendido del computador la rutina Post verifica que los módulos de memoria RAM estén conectados de manera correcta. En el caso que no existan o no se detectes los módulos, la mayoría de las tarjetas madres emiten una serie de pitidos que indican la ausencia de la memoria principal.